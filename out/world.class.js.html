<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: world.class.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: world.class.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import BackgroundObject from "./background-object.class.js";
import Game from "./game.class.js";
import Level from "./level.class.js";

export default class World {
    background = [];
    camera_x = 0;
    current_world_repetitions = 0;
    level = new Level();
    bubbles = [];

    constructor() {
        this.game = new Game();
    };

    /**update on every frame */
    update() {
        this.game.drawer.clear();

        this.repeatBackground();
        this.draw();

        /**update character */
        if (this.level.character) {
            this.level.character.update();
        };

        /**update boss */
        if (this.level.boss) {
            this.level.boss.update();
        };
    };

    /**kill all enemies, when boss introduces */
    killAllEnemies() {
        this.level.enemies.forEach((enemy) => {
            enemy.die();
        });
    };

    /**draw all elements on each frame */
    draw() {
        /**flip */
        this.game.drawer.ctx.translate(this.camera_x, 0);

        /**draw elements */
        this.game.drawer.drawAll(this.background);
        this.game.drawer.drawAll(this.level.coins);
        this.game.drawer.drawAll(this.level.poison);
        this.game.drawer.drawAll(this.level.enemies);
        this.game.drawer.drawAll(this.bubbles);
        this.game.drawer.draw(this.level.character);
        this.game.drawer.drawAll(this.level.barriers);
        this.game.drawer.draw(this.level.boss);

        /**flip back */
        this.game.drawer.ctx.translate(-this.camera_x, 0);
    };

    /**repeat background when camera_x is smaller than -1920 */
    repeatBackground() {
        if (this.camera_x &lt;= -this.current_world_repetitions * 1920) {
            let increase_x_by = this.current_world_repetitions * 1920 * 2;

            /**new add new background object to background array */
            for (let i = 0; i &lt; this.level.backgroundFiles.length; i++) {
                this.background.push(
                    new BackgroundObject(this.level.backgroundFiles[i].path, this.level.backgroundFiles[i].position + increase_x_by)
                );
            };

            this.current_world_repetitions++;
        };
    };
};</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="module.exports.html">exports</a></li></ul><h3>Global</h3><ul><li><a href="global.html#addCoin">addCoin</a></li><li><a href="global.html#addPoison">addPoison</a></li><li><a href="global.html#closeTutorial">closeTutorial</a></li><li><a href="global.html#defineElements">defineElements</a></li><li><a href="global.html#draw">draw</a></li><li><a href="global.html#fadeInBossHealthbar">fadeInBossHealthbar</a></li><li><a href="global.html#fillHealthbar">fillHealthbar</a></li><li><a href="global.html#isCollidingWith">isCollidingWith</a></li><li><a href="global.html#killAllEnemies">killAllEnemies</a></li><li><a href="global.html#loadAnimation">loadAnimation</a></li><li><a href="global.html#loadImage">loadImage</a></li><li><a href="global.html#lose">lose</a></li><li><a href="global.html#muteMusic">muteMusic</a></li><li><a href="global.html#muteSounds">muteSounds</a></li><li><a href="global.html#nextFrame">nextFrame</a></li><li><a href="global.html#nextFrameReverse">nextFrameReverse</a></li><li><a href="global.html#openControls">openControls</a></li><li><a href="global.html#playAnimation">playAnimation</a></li><li><a href="global.html#playClick">playClick</a></li><li><a href="global.html#playReverseAnimation">playReverseAnimation</a></li><li><a href="global.html#repeatBackground">repeatBackground</a></li><li><a href="global.html#restart">restart</a></li><li><a href="global.html#restartButtonClick">restartButtonClick</a></li><li><a href="global.html#setup">setup</a></li><li><a href="global.html#setupCoins">setupCoins</a></li><li><a href="global.html#setupMusicButton">setupMusicButton</a></li><li><a href="global.html#setupPoison">setupPoison</a></li><li><a href="global.html#setupSoundsButton">setupSoundsButton</a></li><li><a href="global.html#showDeadContainer">showDeadContainer</a></li><li><a href="global.html#showQuest">showQuest</a></li><li><a href="global.html#showWinContainer">showWinContainer</a></li><li><a href="global.html#unlockPoisonBubbles">unlockPoisonBubbles</a></li><li><a href="global.html#update">update</a></li><li><a href="global.html#updateBossHealthbar">updateBossHealthbar</a></li><li><a href="global.html#updateCoins">updateCoins</a></li><li><a href="global.html#updateHealthbar">updateHealthbar</a></li><li><a href="global.html#updatePoison">updatePoison</a></li><li><a href="global.html#win">win</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.0</a> on Sun Dec 04 2022 17:08:27 GMT+0100 (Mitteleurop√§ische Normalzeit)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
